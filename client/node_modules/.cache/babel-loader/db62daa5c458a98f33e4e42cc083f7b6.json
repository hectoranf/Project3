{"ast":null,"code":"import _classCallCheck from\"/home/hector/Escritorio/ironkack/project3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/hector/Escritorio/ironkack/project3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/hector/Escritorio/ironkack/project3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/hector/Escritorio/ironkack/project3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Container from'react-bootstrap/Container';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import Map from'./../map/Map';import meetingService from'./../../../service/meeting.service';import'./MeetingDetails.css';var MeetingDetails=/*#__PURE__*/function(_Component){_inherits(MeetingDetails,_Component);var _super=_createSuper(MeetingDetails);function MeetingDetails(props){var _this;_classCallCheck(this,MeetingDetails);_this=_super.call(this,props);_this.getMeeting=function(id){_this.meetingService.getById(id).then(function(response){var date=new Date(response.data.date);response.data.date=date;_this.setState({meeting:response.data});}).catch(function(err){return console.log(err);});};_this.joinMeeting=function(){_this.meetingService.joinMeeting(_this.state.meeting._id).then(function(response){_this.props.setTheUser(response.data);_this.props.history.push('/');}).catch(function(err){return console.log(err);});};_this.componentDidMount=function(){_this.getMeeting(_this.props.match.params.id);};_this.state={meeting:null};_this.meetingService=new meetingService();return _this;}_createClass(MeetingDetails,[{key:\"render\",value:function render(){console.log('los props',this.props);return/*#__PURE__*/React.createElement(Container,{fluid:true,className:\"meeting-details\"},this.state.meeting&&/*#__PURE__*/React.createElement(Row,{as:\"section\"},/*#__PURE__*/React.createElement(Col,{lg:{span:2,offset:0}},/*#__PURE__*/React.createElement(\"div\",{className:\"poster\"},/*#__PURE__*/React.createElement(\"img\",{src:this.state.meeting.media.posterPic?\"http://image.tmdb.org/t/p/w154\".concat(this.state.meeting.media.posterPic):'https://res.cloudinary.com/dba5fn3ws/image/upload/v1589985020/PosterDefault/defaultPoster_esgqhh.jpg',alt:this.state.meeting.media.title}))),/*#__PURE__*/React.createElement(Col,{lg:{span:10,offset:0}},/*#__PURE__*/React.createElement(\"h2\",null,this.state.meeting.media.title),/*#__PURE__*/React.createElement(\"h1\",null,this.state.meeting.meetingName),!this.props.user.joinedMeetings.includes(this.state.meeting._id)&&this.state.meeting.freeSeats>0&&/*#__PURE__*/React.createElement(\"button\",{onClick:this.joinMeeting,className:\"form-button\"},\"Ap\\xFAntate a esta quedada\")),/*#__PURE__*/React.createElement(Col,{lg:2},/*#__PURE__*/React.createElement(\"div\",{className:\"avatar\"},/*#__PURE__*/React.createElement(\"img\",{src:this.state.meeting.creator.profilePic,alt:this.state.meeting.creator.username}),/*#__PURE__*/React.createElement(\"h3\",{className:\"username\"},this.state.meeting.creator.username))),/*#__PURE__*/React.createElement(Col,{lg:5},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{as:\"article\",lg:12},/*#__PURE__*/React.createElement(\"header\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"Descripci\\xF3n\")),/*#__PURE__*/React.createElement(\"p\",null,this.state.meeting.description),/*#__PURE__*/React.createElement(\"hr\",null)),/*#__PURE__*/React.createElement(Col,{as:\"article\",lg:12},/*#__PURE__*/React.createElement(\"header\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"Invitados\")),/*#__PURE__*/React.createElement(\"div\",{className:\"participants\"},this.state.meeting.participants.map(function(elm){return/*#__PURE__*/React.createElement(\"div\",{key:elm._id},/*#__PURE__*/React.createElement(\"img\",{src:elm.profilePic,alt:elm.username}),\" \",/*#__PURE__*/React.createElement(\"h4\",null,elm.username));})),/*#__PURE__*/React.createElement(\"hr\",null)),/*#__PURE__*/React.createElement(Col,{as:\"article\",lg:12},/*#__PURE__*/React.createElement(\"header\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"Lista de la compra\"))))),/*#__PURE__*/React.createElement(Col,{lg:1,className:\"separation\"},/*#__PURE__*/React.createElement(\"div\",null)),/*#__PURE__*/React.createElement(Col,{lg:4},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:12,as:\"article\"},/*#__PURE__*/React.createElement(\"header\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"Datos\")),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"regular-weight\"},\"Fecha\"),\": \",\"\".concat(this.state.meeting.date.getDate(),\" - \").concat(this.state.meeting.date.getMonth()+1,\" - \").concat(this.state.meeting.date.getFullYear())),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"regular-weight\"},\"Hora\"),\": \",this.state.meeting.date.getHours(),\" : \",this.state.meeting.date.getMinutes()<10?\"0\".concat(this.state.meeting.date.getMinutes()):this.state.meeting.date.getMinutes()),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"regular-weight\"},\"Sitios libres\"),\": \",this.state.meeting.freeSeats),/*#__PURE__*/React.createElement(\"hr\",null)),/*#__PURE__*/React.createElement(Col,{as:\"article\",lg:12},/*#__PURE__*/React.createElement(\"header\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"Localizaci\\xF3n\")),/*#__PURE__*/React.createElement(Map,{pos:this.state.meeting.location.coordinates,marker:true}),/*#__PURE__*/React.createElement(\"hr\",null)),/*#__PURE__*/React.createElement(Col,{as:\"article\",lg:12})))),/*#__PURE__*/React.createElement(\"hr\",null));}}]);return MeetingDetails;}(Component);export default MeetingDetails;","map":{"version":3,"sources":["/home/hector/Escritorio/ironkack/project3/client/src/components/pages/meeting/MeetingDetails.js"],"names":["React","Component","Container","Row","Col","Map","meetingService","MeetingDetails","props","getMeeting","id","getById","then","response","date","Date","data","setState","meeting","catch","err","console","log","joinMeeting","state","_id","setTheUser","history","push","componentDidMount","match","params","span","offset","media","posterPic","title","meetingName","user","joinedMeetings","includes","freeSeats","creator","profilePic","username","description","participants","map","elm","getDate","getMonth","getFullYear","getHours","getMinutes","location","coordinates"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n\nimport Container from 'react-bootstrap/Container'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Map from './../map/Map'\n\nimport meetingService from './../../../service/meeting.service'\nimport './MeetingDetails.css'\n\n\n\nclass MeetingDetails extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            meeting: null\n        }\n        this.meetingService = new meetingService()\n    }\n\n    getMeeting = id => {\n        this.meetingService.getById(id)\n            .then(response => {\n                const date = new Date(response.data.date)\n                response.data.date = date\n                this.setState({ meeting: response.data })\n            })\n            .catch(err => console.log(err))\n    }\n\n    joinMeeting = () => {\n        this.meetingService.joinMeeting(this.state.meeting._id)\n            .then(response => {\n                this.props.setTheUser(response.data)\n                this.props.history.push('/')\n            })\n            .catch(err => console.log(err))\n    }\n\n    componentDidMount = () => {\n        this.getMeeting(this.props.match.params.id)\n\n    }\n    render() {\n        console.log('los props', this.props)\n\n        return (\n            <Container fluid className=\"meeting-details\" >\n                {this.state.meeting &&\n                    <Row as='section' >\n                        <Col lg={{ span: 2, offset: 0 }}>\n                            <div className='poster'>\n                                <img src={this.state.meeting.media.posterPic ? `http://image.tmdb.org/t/p/w154${this.state.meeting.media.posterPic}` : 'https://res.cloudinary.com/dba5fn3ws/image/upload/v1589985020/PosterDefault/defaultPoster_esgqhh.jpg'} alt={this.state.meeting.media.title} />\n                            </div>\n                        </Col>\n                        <Col lg={{ span: 10, offset: 0 }}>\n                            <h2>{this.state.meeting.media.title}</h2>\n                            <h1>{this.state.meeting.meetingName}</h1>\n                            {(!this.props.user.joinedMeetings.includes(this.state.meeting._id) && this.state.meeting.freeSeats > 0) && <button onClick={this.joinMeeting} className='form-button'>Apúntate a esta quedada</button>}\n                        </Col>\n                        <Col lg={2}>\n                            <div className='avatar' >\n                                <img src={this.state.meeting.creator.profilePic} alt={this.state.meeting.creator.username} />\n                                <h3 className='username'>{this.state.meeting.creator.username}</h3>\n                            </div>\n                        </Col>\n                        <Col lg={5}>\n                            <Row>\n                                <Col as='article' lg={12}>\n                                    <header>\n                                        <h3>Descripción</h3>\n                                    </header>\n                                    <p>{this.state.meeting.description}</p>\n                                    <hr />\n                                </Col>\n                                <Col as='article' lg={12}>\n                                    <header>\n                                        <h3>Invitados</h3>\n                                    </header>\n                                    <div className='participants'>\n                                        {this.state.meeting.participants.map(elm => <div key={elm._id}><img src={elm.profilePic} alt={elm.username} /> <h4>{elm.username}</h4></div>)}\n\n                                    </div>\n                                    <hr />\n                                </Col>\n                                <Col as='article' lg={12}>\n                                    <header>\n                                        <h3>Lista de la compra</h3>\n                                    </header>\n\n                                </Col>\n                            </Row>\n                        </Col>\n                        <Col lg={1} className='separation'>\n                            <div ></div>\n                        </Col>\n                        <Col lg={4}>\n                            <Row>\n                                <Col lg={12} as='article'>\n                                    <header>\n                                        <h3>Datos</h3>\n                                    </header>\n                                    <p><span className='regular-weight'>Fecha</span>: {`${this.state.meeting.date.getDate()} - ${this.state.meeting.date.getMonth() + 1} - ${this.state.meeting.date.getFullYear()}`}</p>\n                                    <p><span className='regular-weight'>Hora</span>: {this.state.meeting.date.getHours()} : {this.state.meeting.date.getMinutes() < 10 ? `0${this.state.meeting.date.getMinutes()}` : this.state.meeting.date.getMinutes()}</p>\n                                    <p><span className='regular-weight'>Sitios libres</span>: {this.state.meeting.freeSeats}</p>\n                                    <hr />\n                                </Col>\n                                <Col as='article' lg={12}>\n                                    <header>\n                                        <h3>Localización</h3>\n                                    </header>\n                                    <Map pos={this.state.meeting.location.coordinates} marker={true} />\n                                    <hr />\n                                </Col>\n                                <Col as='article' lg={12}>\n                                </Col>\n                            </Row>\n                        </Col>\n                    </Row>}\n                <hr />\n            </Container>\n        )\n    }\n\n}\n\nexport default MeetingDetails"]},"metadata":{},"sourceType":"module"}