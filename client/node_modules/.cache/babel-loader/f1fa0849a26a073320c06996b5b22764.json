{"ast":null,"code":"import _classCallCheck from\"/home/hector/Escritorio/ironkack/project3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/hector/Escritorio/ironkack/project3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/hector/Escritorio/ironkack/project3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/hector/Escritorio/ironkack/project3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Switch,Route,Redirect}from'react-router-dom';import'bootstrap/dist/css/bootstrap.min.css';import'./App.css';// import AuthService from './../service/auth.service'\nimport Topbar from'./ui/topbar/Topbar';import Landing from'./pages/landing/Landing';import Signup from'./pages/signup/Signup';import Login from'./pages/login/Login';import Home from'./pages/home/Home';import Sidebar from'./ui/sidebar/Sidebar.js';import MeetingDetails from'./pages/meeting/MeetingDetails';import Following from'./pages/following/Following';import MeetingForm from'./pages/meeting/create/CreateMeetingForm';import AuthService from'./../service/auth.service';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.setTheUser=function(userObj){return _this.setState({loggedInUser:userObj},function(){return console.log('El estado de App ha cambiado:',_this.state);});};_this.fetchUser=function(){if(_this.state.loggedInUser===null){_this.authService.isLoggedIn().then(function(response){return _this.setTheUser(response.data);}).catch(function(){return _this.setTheUser(false);});}};_this.state={loggedInUser:null};_this.authService=new AuthService();return _this;}_createClass(App,[{key:\"render\",value:function render(){var _this2=this;this.fetchUser();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Topbar,{user:this.state.loggedInUser}),this.state.loggedInUser&&/*#__PURE__*/React.createElement(Sidebar,{user:this.state.loggedInUser,setTheUser:this.setTheUser}),/*#__PURE__*/React.createElement(\"main\",{style:{marginLeft:this.state.loggedInUser&&'250px'}},/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{path:\"/\",exact:true,render:function render(){return _this2.state.loggedInUser?/*#__PURE__*/React.createElement(Home,{user:_this2.state.loggedInUser}):/*#__PURE__*/React.createElement(Landing,null);}}),/*#__PURE__*/React.createElement(Route,{path:\"/signup\",render:function render(props){return/*#__PURE__*/React.createElement(Signup,Object.assign({},props,{setTheUser:_this2.setTheUser}));}}),/*#__PURE__*/React.createElement(Route,{path:\"/login\",render:function render(props){return/*#__PURE__*/React.createElement(Login,Object.assign({},props,{setTheUser:_this2.setTheUser}));}}),/*#__PURE__*/React.createElement(Route,{path:\"/meeting/details/:id\",render:function render(props){return _this2.state.loggedInUser?/*#__PURE__*/React.createElement(MeetingDetails,Object.assign({},props,{user:_this2.state.loggedInUser,setTheUser:_this2.setTheUser})):/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}}),/*#__PURE__*/React.createElement(Route,{path:\"/following\",render:function render(props){return _this2.state.loggedInUser?/*#__PURE__*/React.createElement(Following,Object.assign({},props,{user:_this2.state.loggedInUser,setTheUser:_this2.setTheUser})):/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}}),/*#__PURE__*/React.createElement(Route,{path:\"/meeting/create\",render:function render(props){return _this2.state.loggedInUser?/*#__PURE__*/React.createElement(MeetingForm,Object.assign({},props,{user:_this2.state.loggedInUser,setTheUser:_this2.setTheUser})):/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}}))));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/home/hector/Escritorio/ironkack/project3/client/src/components/App.js"],"names":["React","Component","Switch","Route","Redirect","Topbar","Landing","Signup","Login","Home","Sidebar","MeetingDetails","Following","MeetingForm","AuthService","App","setTheUser","userObj","setState","loggedInUser","console","log","state","fetchUser","authService","isLoggedIn","then","response","data","catch","marginLeft","props"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Switch, Route, Redirect } from 'react-router-dom'\n\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\nimport './App.css'\n\n// import AuthService from './../service/auth.service'\nimport Topbar from './ui/topbar/Topbar'\nimport Landing from './pages/landing/Landing'\nimport Signup from './pages/signup/Signup'\nimport Login from './pages/login/Login'\nimport Home from './pages/home/Home'\nimport Sidebar from './ui/sidebar/Sidebar.js'\nimport MeetingDetails from './pages/meeting/MeetingDetails'\nimport Following from './pages/following/Following'\nimport MeetingForm from './pages/meeting/create/CreateMeetingForm'\n\nimport AuthService from './../service/auth.service'\n\n\nclass App extends Component {\n\n  constructor() {\n    super()\n    this.state = { loggedInUser: null }\n    this.authService = new AuthService()\n  }\n\n  setTheUser = userObj => this.setState({ loggedInUser: userObj }, () => console.log('El estado de App ha cambiado:', this.state))\n\n  fetchUser = () => {\n    if (this.state.loggedInUser === null) {\n      this.authService.isLoggedIn()\n        .then(response => this.setTheUser(response.data))\n        .catch(() => this.setTheUser(false))\n    }\n  }\n\n  render() {\n\n    this.fetchUser()\n\n    return (\n      <>\n        <Topbar user={this.state.loggedInUser} />\n        {this.state.loggedInUser && <Sidebar user={this.state.loggedInUser} setTheUser={this.setTheUser} />}\n\n        <main style={{ marginLeft: this.state.loggedInUser && '250px' }}>\n          <Switch>\n            <Route path=\"/\" exact render={() => this.state.loggedInUser ? <Home user={this.state.loggedInUser} /> : <Landing />} />\n            <Route path=\"/signup\" render={props => <Signup {...props} setTheUser={this.setTheUser} />} />\n            <Route path=\"/login\" render={props => <Login {...props} setTheUser={this.setTheUser} />} />\n\n            <Route path=\"/meeting/details/:id\" render={props => this.state.loggedInUser\n              ? <MeetingDetails {...props} user={this.state.loggedInUser} setTheUser={this.setTheUser} />\n              : <Redirect to='/' />} />\n\n            <Route path=\"/following\" render={props => this.state.loggedInUser\n              ? <Following {...props} user={this.state.loggedInUser} setTheUser={this.setTheUser} />\n              : <Redirect to='/' />} />\n\n            <Route path=\"/meeting/create\" render={props => this.state.loggedInUser\n              ? <MeetingForm {...props} user={this.state.loggedInUser} setTheUser={this.setTheUser} />\n              : <Redirect to='/' />} />\n\n          </Switch>\n\n        </main>\n\n      </>\n    )\n  }\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}