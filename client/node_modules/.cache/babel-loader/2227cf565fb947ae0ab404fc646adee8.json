{"ast":null,"code":"var _jsxFileName = \"/home/hector/Escritorio/ironkack/project3/client/src/components/pages/meeting/create/CreateMeetingForm.js\";\nimport React, { Component } from 'react';\nimport MediaService from './../../../../service/media.service';\nimport MeetingService from './../../../../service/meeting.service';\nimport './CreateMeetingForm.css';\nimport Container from 'react-bootstrap/Container';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\n\nclass CreateMeetingForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      const value = e.target.type === 'checkbox' ? e.target.checked : e.target.value;\n      this.setState({\n        [e.target.name]: value\n      });\n    };\n\n    this.handleResultsVisibility = visibility => {\n      this.setState({ ...this.state,\n        resultVisibility: visibility\n      });\n    };\n\n    this.handleMouseOver = status => {\n      this.setState({ ...this.state,\n        mouseIsOver: status\n      });\n    };\n\n    this.setMedia = media => {\n      console.log(media);\n      let mediaAux = {\n        title: '',\n        type: media.media_type,\n        idTMDB: media.id,\n        posterPic: media.poster_path\n      };\n      mediaAux.type === 'tv' ? mediaAux.title = media.name : mediaAux.title = media.title;\n      console.log(mediaAux);\n      let meetingCopy = { ...this.state.meeting\n      };\n      meetingCopy.media = mediaAux;\n      this.setState({\n        meeting: meetingCopy\n      });\n    };\n\n    this.handleSearch = e => {\n      const value = e.target.value;\n\n      if (value.length > 0) {\n        this.handleResultsVisibility('block');\n        this.mediaService.getAll(value).then(response => {\n          let meetingCopy = { ...this.state.meeting\n          };\n          meetingCopy.media.title = value;\n          this.setState({ ...this.state,\n            meeting: meetingCopy,\n            results: response.data.results.filter(elm => elm.media_type === 'tv' || elm.media_type === 'movie')\n          });\n        }).catch(err => console.log(err));\n      } else {\n        this.handleResultsVisibility('none');\n        this.setState({ ...this.state,\n          results: []\n        });\n      }\n    };\n\n    this.handleFormSubmit = e => {\n      e.preventDefault();\n    };\n\n    this.state = {\n      meeting: {\n        meetingName: '',\n        media: {\n          title: '',\n          type: '',\n          idTMDB: '',\n          posterPic: ''\n        },\n        date: '',\n        description: '',\n        seats: '',\n        freeSeats: '',\n        creator: ''\n      },\n      results: [],\n      resultVisibility: 'none',\n      mouseIsOver: 'false'\n    };\n    this.mediaService = new MediaService();\n    this.meetingService = new MeetingService();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }\n    }, \"Nueva monta\\xF1a rusa\"), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"media-title\",\n      onBlur: () => !this.state.mouseIsOver && this.handleResultsVisibility('none'),\n      onFocus: () => this.handleResultsVisibility('block'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 25\n      }\n    }, \"\\xBFQu\\xE9 vais a ver?\"), /*#__PURE__*/React.createElement(Form.Control, {\n      name: \"media-title\",\n      type: \"text\",\n      value: this.state.meeting.media.title,\n      onChange: this.handleSearch,\n      autoComplete: \"off\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"ul\", {\n      onMouseOver: () => this.handleMouseOver(true),\n      onMouseOut: () => this.handleMouseOver(false),\n      className: \"search-results\",\n      style: {\n        display: this.state.resultVisibility\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 25\n      }\n    }, this.state.results.map((elm, idx) => /*#__PURE__*/React.createElement(\"li\", {\n      key: idx,\n      onClick: () => this.setMedia(elm),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 67\n      }\n    }, elm.poster_path && /*#__PURE__*/React.createElement(\"img\", {\n      className: \"miniature\",\n      src: `http://image.tmdb.org/t/p/w92${elm.poster_path}`,\n      alt: \"poster\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 53\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 33\n      }\n    }, elm.media_type === 'tv' ? elm.name : elm.title))))), /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"desc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 25\n      }\n    }, \"Descripcion\"), /*#__PURE__*/React.createElement(Form.Control, {\n      name: \"description\",\n      type: \"text\",\n      value: this.state.description,\n      onChange: this.handleInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"inv\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 25\n      }\n    }, \"Inversiones\"), /*#__PURE__*/React.createElement(Form.Control, {\n      name: \"inversions\",\n      type: \"text\",\n      value: this.state.inversions,\n      onChange: this.handleInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"len\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 25\n      }\n    }, \"Longitud\"), /*#__PURE__*/React.createElement(Form.Control, {\n      name: \"length\",\n      type: \"text\",\n      value: this.state.length,\n      onChange: this.handleInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      variant: \"dark\",\n      onClick: () => this.props.closeModal(),\n      style: {\n        marginRight: '10px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 21\n      }\n    }, \"Cerrar\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"dark\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 21\n      }\n    }, \"Crear monta\\xF1a rusa\")));\n  }\n\n}\n\nexport default CreateMeetingForm;","map":{"version":3,"sources":["/home/hector/Escritorio/ironkack/project3/client/src/components/pages/meeting/create/CreateMeetingForm.js"],"names":["React","Component","MediaService","MeetingService","Container","Form","Button","CreateMeetingForm","constructor","props","handleChange","e","value","target","type","checked","setState","name","handleResultsVisibility","visibility","state","resultVisibility","handleMouseOver","status","mouseIsOver","setMedia","media","console","log","mediaAux","title","media_type","idTMDB","id","posterPic","poster_path","meetingCopy","meeting","handleSearch","length","mediaService","getAll","then","response","results","data","filter","elm","catch","err","handleFormSubmit","preventDefault","meetingName","date","description","seats","freeSeats","creator","meetingService","render","handleSubmit","display","map","idx","handleInputChange","inversions","closeModal","marginRight"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n\nimport MediaService from './../../../../service/media.service'\nimport MeetingService from './../../../../service/meeting.service'\n\nimport './CreateMeetingForm.css'\n\nimport Container from 'react-bootstrap/Container'\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\n\nclass CreateMeetingForm extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            meeting: {\n                meetingName: '',\n                media: {\n                    title: '',\n                    type: '',\n                    idTMDB: '',\n                    posterPic: ''\n                },\n                date: '',\n                description: '',\n                seats: '',\n                freeSeats: '',\n                creator: ''\n            },\n            results: [],\n            resultVisibility: 'none',\n            mouseIsOver: 'false'\n        }\n        this.mediaService = new MediaService()\n        this.meetingService = new MeetingService()\n    }\n\n    handleChange = e => {\n        const value = e.target.type === 'checkbox' ? e.target.checked : e.target.value\n        this.setState({\n            [e.target.name]: value\n        })\n    }\n\n    handleResultsVisibility = visibility => {\n        this.setState({ ...this.state, resultVisibility: visibility })\n    }\n\n    handleMouseOver = status => {\n        this.setState({ ...this.state, mouseIsOver: status })\n    }\n\n    setMedia = media => {\n        console.log(media)\n        let mediaAux = {\n            title: '',\n            type: media.media_type,\n            idTMDB: media.id,\n            posterPic: media.poster_path\n        }\n        mediaAux.type === 'tv' ? mediaAux.title = media.name : mediaAux.title = media.title\n        console.log(mediaAux)\n        let meetingCopy = { ...this.state.meeting }\n        meetingCopy.media = mediaAux\n        this.setState({ meeting: meetingCopy })\n    }\n\n    handleSearch = e => {\n        const value = e.target.value\n        if (value.length > 0) {\n            this.handleResultsVisibility('block')\n            this.mediaService.getAll(value)\n                .then(response => {\n                    let meetingCopy = { ...this.state.meeting }\n                    meetingCopy.media.title = value\n                    this.setState({ ...this.state, meeting: meetingCopy, results: response.data.results.filter(elm => (elm.media_type === 'tv' || elm.media_type === 'movie')) })\n                })\n                .catch(err => console.log(err))\n        } else {\n            this.handleResultsVisibility('none')\n            this.setState({ ...this.state, results: [] })\n        }\n    }\n\n    handleFormSubmit = e => {\n        e.preventDefault()\n    }\n\n    render() {\n        return (\n            <Container>\n\n                <h1>Nueva montaña rusa</h1>\n                <hr></hr>\n                <Form onSubmit={this.handleSubmit}>\n                    <Form.Group controlId=\"media-title\"\n                        onBlur={() => !this.state.mouseIsOver && this.handleResultsVisibility('none')}\n                        onFocus={() => this.handleResultsVisibility('block')}>\n                        <Form.Label>¿Qué vais a ver?</Form.Label>\n                        <Form.Control name=\"media-title\" type=\"text\"\n                            value={this.state.meeting.media.title}\n                            onChange={this.handleSearch}\n                            autoComplete=\"off\" />\n\n                        <ul onMouseOver={() => this.handleMouseOver(true)} onMouseOut={() => this.handleMouseOver(false)} className='search-results' style={{ display: this.state.resultVisibility }}>\n                            {this.state.results.map((elm, idx) => <li key={idx} onClick={() => this.setMedia(elm)}>\n                                {elm.poster_path && <img className='miniature' src={`http://image.tmdb.org/t/p/w92${elm.poster_path}`} alt='poster' />}\n                                <p>{elm.media_type === 'tv' ? elm.name : elm.title}</p>\n                            </li>)}\n                        </ul>\n\n                    </Form.Group>\n\n                    <Form.Group controlId=\"desc\">\n                        <Form.Label>Descripcion</Form.Label>\n                        <Form.Control name=\"description\" type=\"text\" value={this.state.description} onChange={this.handleInputChange} />\n                    </Form.Group>\n                    <Form.Group controlId=\"inv\">\n                        <Form.Label>Inversiones</Form.Label>\n                        <Form.Control name=\"inversions\" type=\"text\" value={this.state.inversions} onChange={this.handleInputChange} />\n                    </Form.Group>\n                    <Form.Group controlId=\"len\">\n                        <Form.Label>Longitud</Form.Label>\n                        <Form.Control name=\"length\" type=\"text\" value={this.state.length} onChange={this.handleInputChange} />\n                    </Form.Group>\n\n                    <Button variant=\"dark\" onClick={() => this.props.closeModal()} style={{ marginRight: '10px' }}>Cerrar</Button>\n                    <Button variant=\"dark\" type=\"submit\">Crear montaña rusa</Button>\n                </Form>\n            </Container >\n        )\n    }\n\n}\n\nexport default CreateMeetingForm"]},"metadata":{},"sourceType":"module"}